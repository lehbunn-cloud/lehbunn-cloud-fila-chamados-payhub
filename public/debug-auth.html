<!DOCTYPE html>
<html>
<head>
    <title>Debug Auth</title>
</head>
<body>
    <h1>Debug de Autenticação</h1>
    <button onclick="checkStorage()">Verificar Storage</button>
    <button onclick="clearStorage()">Limpar Storage</button>
    <button onclick="setAuth()">Setar Auth</button>
    
    <div id="output"></div>
    
    <script>
        function checkStorage() {
            const output = document.getElementById('output');
            output.innerHTML = `
                <h3>sessionStorage:</h3>
                <pre>${JSON.stringify({
                    admin_authenticated: sessionStorage.getItem('admin_authenticated'),
                    admin_username: sessionStorage.getItem('admin_username'),
                    admin_login_time: sessionStorage.getItem('admin_login_time')
                }, null, 2)}</pre>
                
                <h3>localStorage:</h3>
                <pre>${JSON.stringify({
                    admin_authenticated: localStorage.getItem('admin_authenticated'),
                    admin_username: localStorage.getItem('admin_username'),
                    admin_login_time: localStorage.getItem('admin_login_time')
                }, null, 2)}</pre>
            `;
        }
        
        function clearStorage() {
            sessionStorage.clear();
            localStorage.removeItem('admin_authenticated');
            localStorage.removeItem('admin_username');
            localStorage.removeItem('admin_login_time');
            alert('Storage limpo!');
        }
        
        function setAuth() {
            sessionStorage.setItem('admin_authenticated', 'true');
            sessionStorage.setItem('admin_username', 'admin');
            sessionStorage.setItem('admin_login_time', new Date().toISOString());
            
            localStorage.setItem('admin_authenticated', 'true');
            localStorage.setItem('admin_username', 'admin');
            localStorage.setItem('admin_login_time', new Date().toISOString());
            
            alert('Auth setado!');
        }
    </script>
</body>
</html>